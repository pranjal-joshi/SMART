<html>
    <head>
      <style type="text/css">
      .configBody {
        display: flex;
        min-height: 100vh;
        flex-direction: column;
      }

      .contents {
        flex: 1;
      }
      </style>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="materialize.min.css"  media="screen,projection"/>
      <!-- link ubuntu font -->
      <link href='http://fonts.googleapis.com/css?family=Ubuntu&subset=cyrillic,latin' rel='stylesheet' type='text/css' />

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Configure</title>
      <link rel="icon" href="config.ico" type="image/x-icon" />

    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="materialize.min.js"></script>
    <script type="text/javascript" src="smartSocket.js"></script>
    <script type="text/javascript" src="jquery.cookie.js"></script>

     <!-- Disable caching of browser -->
     <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
     <meta http-equiv="Pragma" content="no-cache" />
     <meta http-equiv="Expires" content="0" />


    </head>

    <body class="configBody" style="font-family: ubuntu" onload="setTimeout(getRoomNames, 200); setTimeout(getRoomNamesForConfigPage,300)">
    <script type="text/javascript">   //security using cookie
      try{
        
      var x = $.cookie('smartLogin');
        if(x !== "grant"){
          //location.href="reauth.html";
        }
    }
      catch(err){}
    </script>
    <main class="contents">
    <div class="navbar-fixed">
    <nav>
      <div class="nav-wrapper teal lighten-2" id="welcomeNavBar">
         <a href="#!" class="brand-logo center">Configure</a>
         <ul class="left med-and-down">
          <a href="#!" class="waves-effect" onclick="goBack()"><i class="material-icons center">arrow_back</i></a>
         </ul>
      </div>

      <!-- <a class="right"><i class="material-icons right">arrow_back</i></a> -->
    </nav>
    </div>

    <ul class="tabs">
      <div class="indicator teal lighten-2" style="z-index:1"></div>
      <li class="tab col s3 grey lighten-4" onclick="visibilityManager(0)"><a class="teal-text" href="#test1">Rooms</a></li>
      <li class="tab col s3 grey lighten-4" onclick="visibilityManager(1)"><a href="#test2" class="teal-text">Profiles</a></li>
    </ul>

    <!-- error modal -->
      <div id="errorModal" class="modal grey lighten-4">
        <div class="modal-contnet">
          <center><h5 style="color: red">Oops!</h5>
          <div class="divider"></div>
          <p style="color: black">Something went wrong. S.M.A.R.T server is out of reach!</p></center>
        </div>
        <div class="modal-footer grey lighten-4">
          <a href="#!" class="modal-action modal-close waves-effect waves-red btn-flat">Done</a>
      </div>
      </div>

    <div class="row">
    <div class="col m4"></div>
    <div class="col s12 m4">
    
    <div class="card-panel grey lighten-4" id="configCard">
      
      <center>
      <span class="teal-text text-darken"><h5>Set room configuration</h5></span>
      <div class="divider"></div>
      <br>

      <!--
          **** Add php code for checkbox check property to retrive applied settings by fetching active flag from db and set checkboxes according while loading the webpage.
      -->
        <form>
            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r1" type="text" class="validate">
                <label for="r1">Room 1</label>
              </div>

              <input type="checkbox" class="filled-in" id="room1" checked="checked" onchange="disableTextbox(this)"/>
              <label for="room1"></label>


              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r2" type="text" class="validate">
                <label for="r2">Room 2</label>
              </div>

              <input type="checkbox" class="filled-in" id="room2" checked="checked" onchange="disableTextbox(this)"/>
              <label for="room2"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r3" type="text" class="validate">
                <label for="r3">Room 3</label>
              </div>

              <input type="checkbox" class="filled-in" id="room3" checked="checked" onchange="disableTextbox(this)"/>
              <label for="room3"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r4" type="text" class="validate">
                <label for="r4">Room 4</label>
              </div>

              <input type="checkbox" class="filled-in" id="room4" checked="checked" onchange="disableTextbox(this)"/>
              <label for="room4"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r5" type="text" class="validate">
                <label for="r5">Room 5</label>
              </div>

              <input type="checkbox" class="filled-in" id="room5" onchange="disableTextbox(this)"/>
              <label for="room5"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r6" type="text" class="validate">
                <label for="r6">Room 6</label>
              </div>

              <input type="checkbox" class="filled-in" id="room6" onchange="disableTextbox(this)"/>
              <label for="room6"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r7" type="text" class="validate">
                <label for="r7">Room 7</label>
              </div>

              <input type="checkbox" class="filled-in" id="room7" onchange="disableTextbox(this)"/>
              <label for="room7"></label>
              
              </div>
            </p>

            <p>
              <div class="row">

              <div class="input-field col s8">
                <input id="r8" type="text" class="validate">
                <label for="r8">Room 8</label>
              </div>

              <input type="checkbox" class="filled-in" id="room8" onchange="disableTextbox(this)"/>
              <label for="room8"></label>
              
              </div>
            </p>

            <div class="row">
            <button class="btn waves-effect waves-light col s4 offset-s2" type="button" onclick="setRoomNames()" id="applyButton">Apply
              <i class="material-icons right">settings</i>
            </button>
            <button class="btn-flat waves-effect waves-light col s4" onclick="goBack()">Cancel
              <i class="material-icons right">arrow_back</i>
            </button>
            </div>

        </form>
      </center>
      
    </div>

    <div class="card-panel grey lighten-4 hide" id="profileCard">
    <center>
      <span class="teal-text text-darken"><h5>Profile management</h5></span>
      <div class="divider"></div>
      <br>
    </center>

    <table>
      <tbody>
        <tr>
          <td>
          <script type="text/javascript">
                  $(document).ready(function() {
            $('select').material_select();
          });
          </script>
            <div class="input-field">
            <select id="profileRoom" onchange="getProfile()">
              <option value="0" disabled selected>Select</option>
              <option value="1" id="pr1" disabled>Room 1</option>
              <option value="2" id="pr2" disabled>Room 2</option>
              <option value="3" id="pr3" disabled>Room 3</option>
              <option value="4" id="pr4" disabled>Room 4</option>
              <option value="5" id="pr5" disabled>Room 5</option>
              <option value="6" id="pr6" disabled>Room 6</option>
              <option value="7" id="pr7" disabled>Room 7</option>
              <option value="8" id="pr8" disabled>Room 8</option>
            </select>
            <label>Room</label>
          </div>

          </td>
          <td>
            <div class="input-field">
            <select id="profileName" onchange="getProfile()">
              <option value="0" disabled >Select</option>
              <option value="1" id="p1" selected>Profile 1</option>
              <option value="2" id="p2">Profile 2</option>
              <option value="3" id="p3">Profile 3</option>
            </select>
            <label>Profile</label>
          </div>
          </td>
          <td>
            <label>Profile Name</label>
            <input placeholder="Profile Name" id="profileTxt" type="text" class="validate">
          </td>
        </tr>
      </tbody>
    </table>

    <div id="profileDeviceSetup">
    <br>
    <center>
      <span class="teal-text text-darken"><h5>Device management</h5></span>
      <div class="divider"></div>
      <br>
    </center>
      <table style="font-size: 15px" class="centered">

        <tbody>
          <tr>
            <td><p id="pdn1">Device 1</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds1"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn2">Device 2</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds2"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn3">Device 3</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds3"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn4">Device 4</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds4"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn5">Device 5</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds5"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn6">Device 6</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds6"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn7">Device 7</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds7"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

          <tr>
            <td><p id="pdn8">Device 8</p></td>
            <td>
              <div class="switch">
                <label><input type="checkbox" id="pds8"><span class="lever"></span></label>
              </div>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <br>
    <center><a class="waves-effect waves-light btn" onclick="setProfile()"><i class="material-icons right small">done</i>Apply</a></center>

    <div id="profileErrorModal" class="modal grey lighten-4 bottom-sheet">
        <div class="modal-contnet">
        <center><h5 style="color: red">Error!</h5>
          <div class="divider"></div>
        </center>
        <center>
          <p style="color: black">Select valid room & profile from option before pressing Apply!</p></center>
        </center>
        </div>
        <div class="modal-footer grey lighten-4">
          <a href="#!" class="modal-action modal-close waves-effect waves-red btn-flat">Okay</a>
      </div>
      </div>

    </div>
    </div>

    </main>

    <footer class="page-footer teal lighten-2">
      <div class="footer-copyright">
        <div class="container">
         <center>Â© 2016 S.M.A.R.T, All rights reserved.</center>
        </div>
      </div>
    </footer>

      <!--Import jQuery before materialize.js-->
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="materialize.min.css">
    <script type="text/javascript">
      // Tab visibility manager
      function visibilityManager(cardNumber){
        var roomCard = document.getElementById('configCard');
        var profileCard = document.getElementById('profileCard');
        if(cardNumber == 0){
          roomCard.className = 'card-panel grey lighten-4';
          profileCard.className = 'card-panel grey lighten-4 hide';
        }
        else{
          roomCard.className = 'card-panel grey lighten-4 hide';
          profileCard.className = 'card-panel grey lighten-4';
        }
      }
    </script>

    </body>
  </html>
